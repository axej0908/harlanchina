<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>订单管理-供货订单</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="./plugins/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="src/css/a_admin_manage.css">
    <style type="text/css">
    	.layui-form-label {
		    padding: 9px 3px;
		    min-width: 56px;
		}
		.layui-table-cell {
		    height: inherit;
		}
		.txt_div{
		    width: 100%;
		    height: 81px;
		    white-space: normal;
		    overflow-y: auto;
		    overflow-x: hidden;
		}
    </style>
    <link rel="icon" type="image/x-icon" href="imgs/favicon.ico"></head>

<body>
	<div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
		<ul class="layui-tab-title">
			<li class="layui-this">待发货</li>
			<li>待收货</li>
			<li>已完成</li>
			<li>申请售后</li>
		</ul>
		<div class="layui-tab-content" style="">
			<div class="layui-tab-item layui-show">
				<!--筛选条件开始-->
				<div class="layui-form-item">
		            <div class="layui-inline">
		                <label class="layui-form-label">手机号：</label>
		                <div class="layui-input-inline">
		                    <input type="tel" name="phone" lay-verify="phone" autocomplete="off" class="layui-input">
		                </div>
		            </div>
		            <div class="layui-inline">
		                <label class="layui-form-label">订单号：</label>
		                <div class="layui-input-inline">
		                    <input type="text" name="email" lay-verify="email" autocomplete="off" class="layui-input">
		                </div>
		            </div>
		             <div class="layui-inline">
		                <label class="layui-form-label">时间段：</label>
		                <div class="layui-input-inline">
		                    <input type="text" id="dt_a" name="email" lay-verify="email" autocomplete="off" class="layui-input">
		                </div>
		            </div>
		            <button class="layui-btn" lay-submit="" lay-filter="demo1">搜素</button>
		        </div>
				<!--筛选条件结束-->
				 <table class="layui-table"  lay-filter="tal_b" id="tal_b">
			    </table>
			   
			</div>
			<div class="layui-tab-item">
				<!--筛选条件开始-->
				<div class="layui-form-item">
		            <div class="layui-inline">
		                <label class="layui-form-label">手机号：</label>
		                <div class="layui-input-inline">
		                    <input type="tel" name="phone" lay-verify="phone" autocomplete="off" class="layui-input">
		                </div>
		            </div>
		            <div class="layui-inline">
		                <label class="layui-form-label">订单号：</label>
		                <div class="layui-input-inline">
		                    <input type="text" name="email" lay-verify="email" autocomplete="off" class="layui-input">
		                </div>
		            </div>
		             <div class="layui-inline">
		                <label class="layui-form-label">时间段：</label>
		                <div class="layui-input-inline">
		                    <input type="text" id="dt_b" name="email" lay-verify="email" autocomplete="off" class="layui-input">
		                </div>
		            </div>
		            <button class="layui-btn" lay-submit="" lay-filter="demo1">搜素</button>
		        </div>
				<!--筛选条件结束-->
				 <table class="layui-table"  lay-filter="tal_c" id="tal_c">
			    </table>
			</div>
			<div class="layui-tab-item">
				<!--筛选条件开始-->
				<div class="layui-form-item">
		            <div class="layui-inline">
		                <label class="layui-form-label">手机号：</label>
		                <div class="layui-input-inline">
		                    <input type="tel" name="phone" lay-verify="phone" autocomplete="off" class="layui-input">
		                </div>
		            </div>
		            <div class="layui-inline">
		                <label class="layui-form-label">订单号：</label>
		                <div class="layui-input-inline">
		                    <input type="text" name="email" lay-verify="email" autocomplete="off" class="layui-input">
		                </div>
		            </div>
		             <div class="layui-inline">
		                <label class="layui-form-label">时间段：</label>
		                <div class="layui-input-inline">
		                    <input type="text" id="dt_c" name="email" lay-verify="email" autocomplete="off" class="layui-input">
		                </div>
		            </div>
		            <button class="layui-btn" lay-submit="" lay-filter="demo1">搜素</button>
		        </div>
				<!--筛选条件结束-->
				 <table class="layui-table"  lay-filter="tal_d" id="tal_d">
			    </table>
			</div>
			<div class="layui-tab-item">
				<!--筛选条件开始-->
				<div class="layui-form-item">
		            <div class="layui-inline">
		                <label class="layui-form-label">手机号：</label>
		                <div class="layui-input-inline">
		                    <input type="tel" name="phone" lay-verify="phone" autocomplete="off" class="layui-input">
		                </div>
		            </div>
		            <div class="layui-inline">
		                <label class="layui-form-label">订单号：</label>
		                <div class="layui-input-inline">
		                    <input type="text" name="email" lay-verify="email" autocomplete="off" class="layui-input">
		                </div>
		            </div>
		             <div class="layui-inline">
		                <label class="layui-form-label">时间段：</label>
		                <div class="layui-input-inline">
		                    <input type="text" id="dt_d" name="email" lay-verify="email" autocomplete="off" class="layui-input">
		                </div>
		            </div>
		            <button class="layui-btn" lay-submit="" lay-filter="demo1">搜素</button>
		        </div>
				<!--筛选条件结束-->
				 <table class="layui-table"  lay-filter="tal_e" id="tal_e">
			    </table>
			</div>
		</div>
	</div> 
	 <!--商品名称模板-->
    <script type="text/html" id="goodnm">
	  <a href="#">商品名称跳转</a>
	</script>
	 <!--退款原因-->
    <script type="text/html" id="text_div">
    	<div class="txt_div">
    	</div>
	</script>
	<!--表格工具条模板一-->
	<script type="text/html" id="barDemo">
	  <a class="layui-btn layui-btn-mini" lay-event="edit">查看订单详情</a>
	  <a class="layui-btn layui-btn-danger layui-btn-mini" lay-event="del">删除</a>
	  <!-- 这里同样支持 laytpl 语法，如： -->
	  <!--{{#  if(d.auth > 2){ }}
	    <a class="layui-btn layui-btn-mini" lay-event="check">审核</a>
	  {{#  } }}-->
	</script>
	 <!---->
	 <!--表格工具条模板二-->
	<script type="text/html" id="barDemo_b">
	  <a class="layui-btn layui-btn-mini" lay-event="see_detail">查看订单详情</a>
	  <a class="layui-btn layui-btn-danger layui-btn-mini" lay-event="del">删除</a>
	  <a class="layui-btn layui-btn-warm layui-btn-mini" lay-event="see_jg">查看检测结果</a>
	  <a class="layui-btn layui-btn-normal layui-btn-mini" lay-event="see_jl">查看监理信息</a>
	
	</script>
    <script src="./plugins/layui/layui.js"></script>
    <!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
    <script>
        layui.use(['form', 'layedit', 'laydate',"element","table"], function() {
            var form = layui.form,
                layer = layui.layer,
                layedit = layui.layedit,
                laydate = layui.laydate;
        	var table = layui.table;
        	var element = layui.element;
			//tab页点击事件监听
			element.on('tab(docDemoTabBrief)', function(data){
			  console.log(this); //当前Tab标题所在的原始DOM元素
			  console.log(data.index); //得到当前Tab的所在下标
			  console.log(data.elem); //得到当前的Tab大容器
			 if(data.index ==1){
			   	//第二个tab页表格数据
				table.render({
				    elem: '#tal_c'
				    ,url:'datas/table.json'
				    ,height: 'full-160'
				    ,cols: [[
	//			      {type:'checkbox'}//是否开启复选框
				      {field:'id',  title: '订单编号', sort: true}
				      ,{field:'username',  title: '收货人名称'}
				      ,{field:'role',  title: '收货人联系方式'}
				      ,{field:'head_bg',  title: '商品名称', templet:"#goodnm"}
				      ,{field:'head_bg',  title: '供货方名称'}
				      ,{field:'optate', title: '操作',width:"500",toolbar: '#barDemo_b'}
				    ]]
				    ,page: true
				  });
			   }else if(data.index ==2){
			   	//第三个tab页表格数据
				table.render({
				    elem: '#tal_d'
				    ,url:'datas/table.json'
				    ,height: 'full-160'
				    ,cols: [[
	//			      {type:'checkbox'}//是否开启复选框
				      {field:'id',  title: '订单编号', sort: true}
				      ,{field:'username',  title: '收货人名称'}
				      ,{field:'role',  title: '收货人联系方式'}
				      ,{field:'head_bg',  title: '商品名称', templet:"#goodnm"}
				      ,{field:'head_bg',  title: '供货方名称'}
				      ,{field:'optate', title: '操作',width:"500",toolbar: '#barDemo_b'}
				    ]]
				    ,page: true
				  });
			   }else if(data.index ==3){
			   	//第四个tab页表格数据
				table.render({
				    elem: '#tal_e'
				    ,url:'datas/table.json'
				    ,height: 'full-160'
				    ,cols: [[
	//			      {type:'checkbox'}//是否开启复选框
				      {field:'id',  title: '订单编号', sort: true}
				      ,{field:'username',  title: '收货人名称'}
				      ,{field:'role',  title: '收货人联系方式'}
				      ,{field:'role',  title: '退款原因',templet:"#text_div"}
				      ,{field:'head_bg',  title: '商品名称', templet:"#goodnm"}
				      ,{field:'head_bg',  title: '供货方名称'}
				      ,{field:'optate', title: '操作',width:"500",toolbar: '#barDemo_b'}
				    ]]
				    ,page: true
				  });
			   }
			});
				
			  //日期范围
			  laydate.render({
			    elem: '#dt_a'
			    ,range: true
			  });
           	 //日期范围
			  laydate.render({
			    elem: '#dt_b'
			    ,range: true
			  });
			   //日期范围
			  laydate.render({
			    elem: '#dt_c'
			    ,range: true
			  });
			   //日期范围
			  laydate.render({
			    elem: '#dt_d'
			    ,range: true
			  });
       		//第一个tab页
            //表格数据
			table.render({
			    elem: '#tal_b'
			    ,url:'datas/table.json'
			    ,height: 'full-160'
			    ,cols: [[
//			      {type:'checkbox'}//是否开启复选框
			      {field:'id',  title: '订单编号', sort: true}
			      ,{field:'username',  title: '收货人名称'}
			      ,{field:'role',  title: '收货人联系方式'}
			      ,{field:'head_bg',  title: '商品名称', templet:"#goodnm"}
			      ,{field:'head_bg',  title: '供货方名称'}
			      ,{field:'optate', title: '操作',width:"500",toolbar: '#barDemo_b'}
			    ]]
			    ,page: true
			  });
            //第一个表格监听工具条
			table.on('tool(test)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
			  var data = obj.data; //获得当前行数据
			  var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
			  var tr = obj.tr; //获得当前行 tr 的DOM对象
			 
			 if(layEvent === 'edit'){ //删除
			    layer.confirm('查看订单详情', function(index){
			      layer.close(index);
			      //向服务端发送删除指令
			    });
			  } else if(layEvent === 'del'){ //删除
			    layer.confirm('删除', function(index){
			      obj.del(); //删除对应行（tr）的DOM结构，并更新缓存
			      layer.close(index);
			      //向服务端发送删除指令
			    });
			  } 
			});
       		//第二个tab页
       		
			//第二个表格监听工具条
			table.on('tool(tal_b)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
			  var data = obj.data; //获得当前行数据
			  var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
			  var tr = obj.tr; //获得当前行 tr 的DOM对象
			 
			 if(layEvent === 'see_detail'){ //删除
			    layer.confirm('查看订单详情', function(index){
			      layer.close(index);
			      //向服务端发送删除指令
			    });
			  } else if(layEvent === 'del'){ //删除
			    layer.confirm('删除', function(index){
			      obj.del(); //删除对应行（tr）的DOM结构，并更新缓存
			      layer.close(index);
			      //向服务端发送删除指令
			    });
			  } else if(layEvent === 'see_jg'){ //查看检测结果
			    layer.confirm('查看检测结果', function(index){
			      obj.del(); //删除对应行（tr）的DOM结构，并更新缓存
			      layer.close(index);
			      //向服务端发送删除指令
			    });
			  } else if(layEvent === 'see_jl'){ //查看监理信息
			    layer.confirm('查看监理信息', function(index){
			      obj.del(); //删除对应行（tr）的DOM结构，并更新缓存
			      layer.close(index);
			      //向服务端发送删除指令
			    });
			  } 
			});
			
        });
    </script>

</body>

</html>